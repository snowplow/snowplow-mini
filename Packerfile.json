{
   "variables": {
     "version": "0.3.0-rc1"
   },

  "builders": [
    {
      "type": "amazon-ebs",
      "region": "us-east-1",
      "source_ami": "ami-05dddc6f",
      "instance_type": "t2.small",
      "ssh_username": "ubuntu",
      "ami_name": "snowplow-mini-{{user `version`}}-{{ timestamp }}-hvm-ebs-amd64",
      "ami_groups": [ "all" ],
      "ami_regions": "eu-west-2",
      "ami_description": "Snowplow Mini - The Snowplow Pipeline in a box",
      "tags": {
        "OS_Version": "Ubuntu-14.04",
        "Release": "{{user `version`}}"
      }
    }
  ],

  "provisioners": [
    {
      "type": "ansible",
      "playbook_file": "provisioning/without_building_ui.yml",
      "extra_arguments": [
        "-e provision=packer"
      ]
    }
  ]
}
